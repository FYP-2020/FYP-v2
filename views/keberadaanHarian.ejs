<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<link rel="stylesheet" href="/styles.css" />
<link rel="icon" type="image/png" href="/images/skse.png"/>
<title>Keberadaan Harian</title>
<script>
  
    function openNav() {
      document.getElementById("mySidebar").style.width = "200px";
    }
    
    function closeNav() {
      document.getElementById("mySidebar").style.width = "0";
      document.getElementById("main").style.marginLeft= "0";
    }

    var slideIndex = 1;
showSlides(slideIndex);

// Next/previous controls
function plusSlides(n) {
  showSlides(slideIndex += n);
}

// Thumbnail image controls
function currentSlide(n) {
  showSlides(slideIndex = n);
}

    function showSlides(n) {

  // var d = new Date();
  // console.log(d);

  var i;
  var slides = document.getElementsByClassName("mySlides");
  var dots = document.getElementsByClassName("dot");
  if (n > slides.length) {slideIndex = 1}
  if (n < 1) {slideIndex = slides.length}
  for (i = 0; i < slides.length; i++) {
      slides[i].style.display = "none";
  }
  for (i = 0; i < dots.length; i++) {
      dots[i].className = dots[i].className.replace(" active2", "");
  }
  slides[slideIndex-1].style.display = "block";
  dots[slideIndex-1].className += " active2";
}
    
   function filter(){
    var today = new Date().toISOString().slice(0, 10);
    console.log(today);
    var rows = document.getElementsByTagName("tr");
    //console.log(rows);
    var count=0;
    for(let row of rows){
      let head = row.getElementsByTagName("th");
      let cells = row.getElementsByTagName("td");
      let name = cells[0]
      let date = cells[1]
      let type = cells[2]
      //
      
      console.log(row);
      console.log(count);
    //   console.log(head);
       console.log(cells);
       console.log(date);
       console.log(type);
    //    console.log(name.textContent);
    //    console.log(date.textContent);
      
     // console.log(head);

    //   if( head  ){
    //       row.style.display="";
    //   }
   // if(count==0){
        if( !date || !type   ){
       row.style.display="none";

         console.log("here");
          
      }

      // else if( date.textContent ===today && type.textContent==="OL" ){
      //     console.log(date.textContent);
      //  row.style.display="";

      //    console.log("h");
          
      // }
    //   else{
    //     row.style.display="none";
    //     console.log("here2");
    //   }

    // }
    // else if(count>0){
      //   else if(date.textContent!==today && (type.textContent!=="OL"||type.textContent!=="TLS")){
      //  row.style.display="none";
      //  console.log("he");
      //  //console.log(date.textContent);

      // }

      // else if(date.textContent===today && (type.textContent!=="OL" || type.textContent!=="TLS")){
      //  row.style.display="none";
      //  console.log("hee");
      //  //console.log(date.textContent);

      // }
      else if(date.textContent===today && type.textContent==="TLS"){
       row.style.display="";
       console.log("hee");
       //console.log(date.textContent);

      }


      else if(date.textContent===today && type.textContent==="OL"){
       row.style.display="";
       console.log("hee");
       //console.log(date.textContent);

      }
      else{
        row.style.display="none";
      }
    //   else{
    //     row.style.display="none";
    //     console.log("here3");
    //   }

    // }

    //    count = count+1;

     
    }



   }
    
    </script>
<style>



tr:not(:first-child){
background-color: white; 
width: auto; 
border-radius: 50px;
height: 45px;
border-color: #707070;
display: flex;
flex-basis: 100%;
/*padding: 10px 0;*/
margin-top:  25px;
margin-bottom: 25px;
margin-right: 300px;
margin-left: 300px;
/* box-shadow: 0 0 5px #93B5EF; */
box-shadow: 0 0 4px black;
}
.second{
  background-color:  #ABCAFF;; 
  border-radius: 50px;
height: 43px;
border-color: #707070;
display: flex;
flex-basis: 100%;
/*padding-top:10px;
padding-bottom: 20px;*/


}
.text{
  font-size: 15px;
          font-weight:lighter;
          color:  #192A59;
          text-align: center;
          padding: 15px 8px 8px 8px;
          width: 100%;
}
.first{

  padding: 15px 8px 8px 8px;
          text-align: center;
          /*background:white;*/
          background-size: 80% 80%;
         
         /* background-repeat: no-repeat;
          background-position: center;*/
          font-size: 15px;
          font-weight:bold;
          color:  #192A59;
          border-radius: 6px;
         overflow: hidden;
         /*box-shadow: 0 0 5px #93B5EF;*/

}

td{

flex-basis: 100%;
}
th{
  flex-basis: 100%;
}

.slideshow-container {
  /* max-width: 1000px; */
  position: relative;
  /* margin: auto;*/
} 

/* Hide the images by default */
.mySlides {
  display: none;
}

.mySlides h3{
 margin-left: 60px;

}

/* Next & previous buttons */
.prev, .next {
  cursor: pointer;
  position: absolute;
  top: 50%;
  width: auto;
  margin-top: -22px;
  padding: 16px;
   color: #0E4D92; 
  /* color: #0E4D92; */
  font-weight: bolder;
  font-size: 30px;
  transition: 0.6s ease;
  border-radius: 0 3px 3px 0;
  user-select: none;
}

/* Position the "next button" to the right */
.next {
   right: 35px; 
  border-radius: 3px 0 0 3px;
 
}

/* On hover, add a black background color with a little bit see-through */
.prev:hover, .next:hover {
  background-color: rgba(141, 138, 138, 0.8);
}

/* Caption text 
.text {
  color: #f2f2f2;
  font-size: 15px;
  padding: 8px 12px;
  position: absolute;
  bottom: 8px;
  width: 100%;
  text-align: center;
}

/* Number text (1/3 etc) 
.numbertext {
  color: #f2f2f2;
  font-size: 12px;
  padding: 8px 12px;
  position: absolute;
  top: 0;
}*/

/* The dots/bullets/indicators */
.dot {
  cursor: pointer;
  height: 15px;
  width: 15px;
  margin: 0 2px;
  background-color: #bbb;
  border-radius: 50%;
  display: inline-block;
  transition: background-color 0.6s ease;
}

.active2, .dot:hover {
  background-color: #717171;
}

/* Fading animation */
.fade {
  -webkit-animation-name: fade;
  -webkit-animation-duration: 1.5s;
  animation-name: fade;
  animation-duration: 1.5s;
}

@-webkit-keyframes fade {
  from {opacity: .4}
  to {opacity: 1}
}

@keyframes fade {
  from {opacity: .4}
  to {opacity: 1}
}
</style>
</head>
<body >
  <div class="topHeader">
    <img src="images/expand.png" class = "imageL" alt="hide menu"  onclick="openNav()">
    <img src="images/skse.png" class = "imageL" alt="hide menu">
    <img src="images/User.png" alt="Logout"  onclick="window.location.href = '/logout';"  class = "imageR">
    <span style="float: right; line-height: 3; padding-right: 10px;"><%= name%></span>
    </a>
    </div>
        <div id="mySidebar" class="sidebar">
          <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">Ã—</a>
          <a href="/keseluruhanProgresTugasan">E Tugasan</a>
          <a href="/keberadaanHarian">E Kehadiran</a>
        </div> 
        <div id="main">
            <div style="box-shadow: 0 8px 6px -6px black;">
          
                <ul class="nav">
                <li><a class="active" href="/keberadaanHarian">Utama</a></li>
                <li><a  href="/permohonanKeluar">Permohonan</a></li></ul>
                <div class="dropdown">
                  <button class="dropbtn">Pemakluman</button>
                  <div class="dropdown-content">
                          <a href="/maklumPermohonanCuti">Maklum Permohonan Cuti</a>
                          <a href="/maklumPenglibatan">Maklum Penglibatan Aktiviti Luar</a>
                      </div>  
                      </div>
                      
              </div>
          

          


<%let today = new Date()%>
<% var month = new Array(12)%>
<%month[0]= "Januari"%>
<%month[1]= "Februari"%>
<%month[2]= "Mac"%>
<%month[3]= "April"%>
<%month[4]= "Mei"%>
<%month[5]= "Jun"%>
<%month[6]= "Julai"%>
<%month[7]= "Ogos"%>
<%month[8]= "September"%>
<%month[9]= "Oktober"%>
<%month[10]= "November"%>
<%month[11]= "Disember"%>
<%var bulan = month[today.getMonth()]%>
<h2 style="display: inline-block;">Keberadaan Harian</h2>
<h2 style="display: inline; margin-left: 800px;"><%=today.getDate()%> <%=bulan%> <%=today.getFullYear()%></h2>


<br><br>
<!-- Slideshow container -->
<div class="slideshow-container">
<div class="mySlides fade">

  <h3><img src="images/guru.png" style="width: 65px; height: 41px; vertical-align: middle;">Guru Sesi Pagi</h3>
  <div style="overflow: auto; max-height: 310px; width: 90%; margin-left: 50px;">
  <table style="border-collapse: separate; background: #666666; width: 100%;">
  <tr style="display: none; ">
  <th>Nama Tidak Hadir</th>
  <th id="type" style="display: none;">Tarikh</th>
  <th style="display: none;">Type</th>
  <th>Sebab</th>
  <!--th>Kategori</th-->
  </tr>
  <% sesipagi.forEach(function(a) { %>
  <tr>
  <td class="first"><%=a.name%></td>
  <td style="display: none;"><%=a.date%></td>
  <td style="display: none;"><%=a.type%></td>
  <td class="second"> <span class="text"><%=a.act_1 %></span></td>
  
  </tr>
  <%})%>
  </table></div>
  </div>




<div class="mySlides fade">
  <h3><img src="images/guru.png" style="width: 65px; height: 41px; vertical-align: middle;">Guru Sesi Petang</h3>
  <div style="overflow: auto; max-height: 310px; width: 90%; margin-left: 50px;">
    <table style="border-collapse: separate; background: #666666; width: 100%;">
<tr style="display: none; ">
<th>Nama Tidak Hadir</th>
<th id="type" style="display: none;">Tarikh</th>
<th style="display: none;">Type</th>
<th>Sebab</th>
<!--th>Kategori #0e4d92</th-->
</tr>
<% sesipetang.forEach(function(a) { %>
<tr>
<td class="first"><%=a.name%></td>
<td style="display: none;"><%=a.date%></td>
<td style="display: none;"><%=a.type%></td>
<td class="second"> <span class="text"><%=a.act_1 %></span></td>

</tr>
<%})%>
</table></div>
</div>

<div class="mySlides fade">
  <h3><img src="images/staf.png" style="width: 60px; height: 36px; vertical-align: middle;"> Kakitangan</h3>
  <div style="overflow: auto; max-height: 310px; width: 90%; margin-left: 50px;">
    <table style="border-collapse: separate; background: #666666; width: 100%;">
  <tr style="display: none; ">
  <th>Nama Tidak Hadir</th>
  <th id="type" style="display: none;">Tarikh</th>
  <th style="display: none;">Type</th>
  <th>Sebab</th>
  <!--th>Kategori</th-->
  </tr>
  <% kakitangan.forEach(function(a) { %>
  <tr>
  <td class="first"><%=a.name%></td>
  <td style="display: none;"><%=a.date%></td>
  <td style="display: none;"><%=a.type%></td>
  <td class="second"> <span class="text"><%=a.act_1 %></span></td>
  
  </tr>
  <%})%>
  </table></div>
  </div>

  <!-- Next and previous buttons -->
  <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
  <a class="next" onclick="plusSlides(1)">&#10095;</a>
</div>
<br>

<!-- The dots/circles -->
<div style="text-align:center">
  <span class="dot" onclick="currentSlide(1)"></span>
  <span class="dot" onclick="currentSlide(2)"></span>
  <span class="dot" onclick="currentSlide(3)"></span>
</div>



</div>
<script>

    window.onload=currentSlide(1);
</script>

</body>

</html>